{
  "comments": [
    {
      "key": {
        "uuid": "5faad753_e190d44c",
        "filename": "services/core/java/com/android/server/audio/AudioService.java",
        "patchSetId": 1
      },
      "lineNbr": 4801,
      "author": {
        "id": 13956
      },
      "writtenOn": "2016-06-21T15:37:00Z",
      "side": 0,
      "message": "We are in another thread here, and createStreamStates will delete all  mStreamStates and create it again, which creates a race condition between the binder.",
      "revId": "e39d1d75b95c02b7fb055d7caab535c8e1e919ad",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5faad753_01fbb046",
        "filename": "services/core/java/com/android/server/audio/AudioService.java",
        "patchSetId": 1
      },
      "lineNbr": 4801,
      "author": {
        "id": 2936
      },
      "writtenOn": "2016-06-21T16:29:50Z",
      "side": 0,
      "message": "I can accept updating mStreamVolumeAlias only, that is essentially what the call to updateStreamVolumeAlias ends up doing. But you\u0027re not doing any of the actions in createStreamStates anymore, isn\u0027t that going to have other side effects?",
      "parentUuid": "5faad753_e190d44c",
      "revId": "e39d1d75b95c02b7fb055d7caab535c8e1e919ad",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5faad753_e19bf414",
        "filename": "services/core/java/com/android/server/audio/AudioService.java",
        "patchSetId": 1
      },
      "lineNbr": 4801,
      "author": {
        "id": 13956
      },
      "writtenOn": "2016-06-21T18:08:45Z",
      "side": 0,
      "message": "We do needed, and we may need to call \n            sendMsg(mAudioHandler,\n                    MSG_SET_ALL_VOLUMES,\n                    SENDMSG_QUEUE,\n                    0,\n                    0,\n                    mStreamStates[AudioSystem.STREAM_DTMF], 0);\nalso which is in updateStreamVolumeAlias.\nJust cannot figure a safe way to do that",
      "parentUuid": "5faad753_01fbb046",
      "revId": "e39d1d75b95c02b7fb055d7caab535c8e1e919ad",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5faad753_fc32bbf1",
        "filename": "services/core/java/com/android/server/audio/AudioService.java",
        "patchSetId": 1
      },
      "lineNbr": 4801,
      "author": {
        "id": 2936
      },
      "writtenOn": "2016-06-21T18:16:39Z",
      "side": 0,
      "message": "Can\u0027t we just message the handler from this callback to call these functions instead?",
      "parentUuid": "5faad753_e19bf414",
      "revId": "e39d1d75b95c02b7fb055d7caab535c8e1e919ad",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5faad753_7cf00bfe",
        "filename": "services/core/java/com/android/server/audio/AudioService.java",
        "patchSetId": 1
      },
      "lineNbr": 4801,
      "author": {
        "id": 9045
      },
      "writtenOn": "2016-06-21T19:36:04Z",
      "side": 0,
      "message": "it just looks like we need to run this in the main thread, since that\u0027s where the constructor runs I assume?",
      "parentUuid": "5faad753_fc32bbf1",
      "revId": "e39d1d75b95c02b7fb055d7caab535c8e1e919ad",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    }
  ]
}