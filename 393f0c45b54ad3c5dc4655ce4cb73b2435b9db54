{
  "comments": [
    {
      "key": {
        "uuid": "3f1d235d_d0664f52",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 9199
      },
      "writtenOn": "2015-09-04T04:00:05Z",
      "side": 1,
      "message": "add NPE between \"fix\" and \"crash\" for clarity",
      "range": {
        "startLine": 7,
        "startChar": 13,
        "endLine": 7,
        "endChar": 14
      },
      "revId": "393f0c45b54ad3c5dc4655ce4cb73b2435b9db54",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3f1d235d_50cd9f5b",
        "filename": "packages/SystemUI/src/com/android/systemui/statusbar/VisualizerView.java",
        "patchSetId": 2
      },
      "lineNbr": 108,
      "author": {
        "id": 9199
      },
      "writtenOn": "2015-09-04T03:24:23Z",
      "side": 1,
      "message": "I suspect you will still encounter the SystemUI crash because it\u0027s not that mVisualizer is null, you\u0027d get a NPE in that case.  It is not in the proper state to release it and therefore throws an exception.\n\nYou should probably be checking if it is enabled by calling mVisualizer.getEnabled() and if so disable and release it.",
      "revId": "393f0c45b54ad3c5dc4655ce4cb73b2435b9db54",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3f1d235d_10f04790",
        "filename": "packages/SystemUI/src/com/android/systemui/statusbar/VisualizerView.java",
        "patchSetId": 2
      },
      "lineNbr": 108,
      "author": {
        "id": 3134
      },
      "writtenOn": "2015-09-04T03:28:50Z",
      "side": 1,
      "message": "Clark, the constructor of Visualizer could launch UnsupportedOperationException and RuntimeException exceptions if the underlying native code can\u0027t be initilized propertly. In that case, there isn\u0027t a valid mVisualizer is null, and any attempt to access to this variable will lead to a NPE.",
      "parentUuid": "3f1d235d_50cd9f5b",
      "revId": "393f0c45b54ad3c5dc4655ce4cb73b2435b9db54",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3f1d235d_101e07ba",
        "filename": "packages/SystemUI/src/com/android/systemui/statusbar/VisualizerView.java",
        "patchSetId": 2
      },
      "lineNbr": 108,
      "author": {
        "id": 9199
      },
      "writtenOn": "2015-09-04T03:51:35Z",
      "side": 1,
      "message": "Jorge, that\u0027s fine, but the log from the comments shows it\u0027s not an NPE but a bad state.  The null check is fine but it\u0027s not going to fix the error mentioned in that comment.\n\nP.S. All this is based on some assumptions since there is an incomplete log.",
      "parentUuid": "3f1d235d_10f04790",
      "revId": "393f0c45b54ad3c5dc4655ce4cb73b2435b9db54",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    }
  ]
}